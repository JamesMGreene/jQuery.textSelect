<!DOCTYPE html>
<html>
<head>
	<title>jQuery.textSelect: Basic Demo</title>
	<link type="text/css" rel="stylesheet" href="demo.css" />
</head>
<body>
<header>
	<h1>Note: Please have the JavaScript console open during the demo!</h1>
</header>
<div role="main">
	<section class="selectable" id="selectable1">
		<h4>Select some text!</h4>

		<div>
			<span>Lorem ipsum blah blah blah. 11</span>
			<span>Lorem ipsum blah blah blah. 12</span>
			<span>Lorem ipsum blah blah blah. 13</span>
		</div>
		<div>
			<span>Lorem ipsum blah blah blah. 21</span>
			<span>Lorem ipsum blah blah blah. 22</span>
			<span>Lorem ipsum blah blah blah. 23</span>
		</div>
		<div>
			<span>Lorem ipsum blah blah blah. 31</span>
			<span>Lorem ipsum blah blah blah. 32</span>
			<span>Lorem ipsum blah blah blah. 33</span>
		</div>
	</section>
</div>

<footer>
	<a href="../index.html">Back to the main project page</a>
</footer>

<!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline or using file protocol -->
<!--<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>-->
<script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="../lib/jquery-1.7.1.min.js"><\/script>')</script>

<script type="text/javascript" src="../src/jquery.textSelect.js"></script>
<script type="text/javascript">
	$(document).ready(function () {
		/*********************
		 *   Logging setup   *
		 *********************/
		$("div[role=main]").append('<h3 style="margin-top: 20px;">Lame Console:</h3>').append('<ul style="border: 1px solid black; height: 200px; overflow-y: auto;"></ul>')
		$("header").remove();

		var newline = "\r\n",
			newlineRegex = new RegExp(newline, "g");
		function escapeHtml(s) {
			return s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
		}
		function logIt(msg) {
			//console.log(msg);
			var $list = $("ul"),
				cleanMsg = msg.replace(newlineRegex, "<br />&nbsp;&nbsp;");
			$list.append("<li>* " + cleanMsg + "</li>").
				prop({ scrollTop: $list.prop("scrollHeight") - $list.height() });
		};


		/***************************
		 *   Event handler setup   *
		 ***************************/

		$(".selectable").on("textSelect", function ($event) {
			logIt('Text selected was: "' + $event.data.text + '"' + newline +
				'Html selected: "' + escapeHtml($event.data.html) + '"');
		});
	});
</script>
</body>
</html>