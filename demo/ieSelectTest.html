<html>
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>Test "select" event in IE9+</title>
</head>
<body id="theBody">
<div id="testElements">
	<h3>IE9+ has textual selection events that other browsers do not yet.</h3>

	<form id="controls">
		<input id="showEvents_select" type="checkbox" checked="checked" /> <label for="showEvents_select">Log `select` events</label><br />
		<input id="showEvents_selectstart" type="checkbox" checked="checked" /> <label for="showEvents_selectstart">Log `selectstart` events</label><br />
		<input id="showEvents_selectionchange" type="checkbox" checked="checked" /> <label for="showEvents_selectionchange">Log `selectionchange` events</label><br />
	</form>

	<p id="testParagraph">
		This paragraph is a test element. This paragraph is a test element. This paragraph is a test element.
		<a href="#">This link is a clickable, tab-able test element.</a>
		This paragraph is a test element. This paragraph is a test element. This paragraph is a test element.
	</p>

	<form id="testFormMinimal">
		<p id="paraInForm">This form is a test element, and all of its fields are test elements, too.</p>
		<input id="testInputMinimal" /> <label for="testInputMinimal" id="testInputMinimalLabel">Test label</label><br id="breaker" />
		<textarea id="textarea"></textarea>
	</form>
</div>

<!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if offline or using file protocol -->
<!--<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>-->
<script type="text/javascript">window.jQuery || document.write('<script type="text/javascript" src="../lib/jquery-1.7.1.min.js"><\/script>')</script>
<script type="text/javascript">
	$(document).ready(function() {
		var selectionEventList = ["selectstart", "select", "selectionchange"],
				selectionEventString = selectionEventList.join(" "),
				selectionCallback = function _selectionCallback($event) {
					var target = $event.target || $event.srcElement,
							eventType = $event.type,
							targetIsBody = target === document.body,
							targetIsDoc = target === document,
							targetIsWin = target === window,
							thisIsBody = this === document.body,
							thisIsDoc = this === document,
							thisIsWin = this === window;

					if ($("#showEvents_" + eventType).prop("checked")) {
						console.log(
							"Event: " + $event.type + "\n" +
							"  this = " + (this.id || this.tagName || this.nodeName || (thisIsDoc ? "document" : "") || (thisIsWin ? "window" : "")) + "\n" +
							"  target = " + (target.id || target.tagName || target.nodeName || (targetIsDoc ? "document" : "") || (targetIsWin ? "window" : ""))
						);
					}
				};

		$(window).on(selectionEventString, selectionCallback);
		$(document).on(selectionEventString, selectionCallback);
		$("body, body *").on(selectionEventString, selectionCallback);
	});
</script>

</body>
</html>